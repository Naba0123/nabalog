{"componentChunkName":"component---src-templates-blog-post-js","path":"/2017/0711-surface/","result":{"data":{"site":{"siteMetadata":{"title":"なばろぐ","description":"プログラミング、ピアノ作曲・演奏、雑記など"}},"markdownRemark":{"html":"<div class=\"alert info\">\nはてなブログからの移行記事\n</div>\n<h1 id=\"あらすじ\" style=\"position:relative;\"><a href=\"#%E3%81%82%E3%82%89%E3%81%99%E3%81%98\" aria-label=\"あらすじ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>あらすじ</h1>\n<p>Surface Pro 4 + 外部ディスプレイを使っていて、「外部ディスプレイに表示のみ」にした場合に<strong>タッチパネルが反応して外部ディスプレイの操作の邪魔をする</strong>など、一時的にタッチパネルを無効化したい場合もあるかと思います。</p>\n<p>デイバイスマネージャから「HID 準拠タッチ スクリーン」を無効化すれば解決するのですが、いちいち開いて変更するのが面倒なのでバッチファイルを作成して「Win+R」からサクっと呼び出します。</p>\n<h1 id=\"必要なもの\" style=\"position:relative;\"><a href=\"#%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%82%E3%81%AE\" aria-label=\"必要なもの permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>必要なもの</h1>\n<p>コマンドラインからデバイスの有効・無効化を行うには「DevCon」という\nWindows Driver Kit (WDK) に含まれるソフトを使用するため、WDKをインストールします。</p>\n<p><a href=\"https://developer.microsoft.com/ja-jp/windows/hardware/windows-driver-kit\">https://developer.microsoft.com/ja-jp/windows/hardware/windows-driver-kit</a></p>\n<blockquote>\n<p>重要: WDK をインストールすると、モダン アプリケーションを開発することができなくなります。</p>\n</blockquote>\n<p>と書いてあります（分かってない）。<br>\nまた、Visual Studio 2017 とはまだ互換性がないようです。</p>\n<h1 id=\"バッチファイル\" style=\"position:relative;\"><a href=\"#%E3%83%90%E3%83%83%E3%83%81%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\" aria-label=\"バッチファイル permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>バッチファイル</h1>\n<p>まず、「デバイスマネージャ」→「ヒューマン インターフェイス デバイス」→「HID 準拠タッチ スクリーン」のハードウェアIDの一番上の長いものをメモります。（今回は「HID 準拠タッチ スクリーン」は2つあったので両方メモ）</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 73.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHYVkkBg//EABkQAQACAwAAAAAAAAAAAAAAAAEAEAISIf/aAAgBAQABBQJBmuF8r//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/AYf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPwGn/8QAGBAAAgMAAAAAAAAAAAAAAAAAABABITH/2gAIAQEABj8CsxS//8QAGxAAAwACAwAAAAAAAAAAAAAAAAERECFBUcH/2gAIAQEAAT8hZa2Gu+zgSTddlRTH/9oADAMBAAIAAwAAABBTz//EABYRAQEBAAAAAAAAAAAAAAAAAAEQQf/aAAgBAwEBPxBDk//EABYRAQEBAAAAAAAAAAAAAAAAAAEQQf/aAAgBAgEBPxARs//EABsQAQACAgMAAAAAAAAAAAAAAAEAESFRYXGB/9oACAEBAAE/ELVdVZXESsAbWBKIqVOcKpqnkxR1P//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"20170711001524\"\n        title=\"20170711001524\"\n        src=\"/static/655f7925ce1c8998856287dd600584e3/066f9/20170711001524.jpg\"\n        srcset=\"/static/655f7925ce1c8998856287dd600584e3/b9e9c/20170711001524.jpg 100w,\n/static/655f7925ce1c8998856287dd600584e3/e07e9/20170711001524.jpg 200w,\n/static/655f7925ce1c8998856287dd600584e3/066f9/20170711001524.jpg 400w,\n/static/655f7925ce1c8998856287dd600584e3/b4294/20170711001524.jpg 600w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>その2つに対して、<code class=\"language-text\">devcon</code>コマンドを使用してデバイスを無効化するバッチファイルを作成します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">:: devcon.exeのパス（Windows 10 Pro）\n@set DEVCON=&quot;C:\\Program Files (x86)\\Windows Kits\\10\\Tools\\x64\\devcon.exe&quot;\n  \n:: HID タッチスクリーンの無効化\n%DEVCON% disable &quot;メモしたハードウェアID1&quot;\n%DEVCON% disable &quot;メモしたハードウェアID2&quot;</code></pre></div>\n<p>有効化のバッチファイルも、同様に作成します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">:: devcon.exeのパス（Windows 10 Pro）\n@set DEVCON=&quot;C:\\Program Files (x86)\\Windows Kits\\10\\Tools\\x64\\devcon.exe&quot;\n  \n:: HID タッチスクリーンの無効化\n%DEVCON% enable &quot;メモしたハードウェアID1&quot;\n%DEVCON% enable &quot;メモしたハードウェアID2&quot;</code></pre></div>\n<h1 id=\"winrから実行したい\" style=\"position:relative;\"><a href=\"#winr%E3%81%8B%E3%82%89%E5%AE%9F%E8%A1%8C%E3%81%97%E3%81%9F%E3%81%84\" aria-label=\"winrから実行したい permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Win+Rから実行したい</h1>\n<p>このバッチファイルには管理者権限が必要で、それをバッチファイルで書くと大変（というか知らない）ので、<br>\nバッチファイルのショートカットを作成して、その実行に管理者権限が必要なように設定します。</p>\n<p>バッチファイルのショートカットを作成し、「プロパティ」の「詳細設定」から「管理者として実行」にチェックを入れます。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAQAF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3RgmP//EABYQAAMAAAAAAAAAAAAAAAAAAAARIP/aAAgBAQABBQKUf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABkQAAIDAQAAAAAAAAAAAAAAAAARASFhUf/aAAgBAQABPyGiokrgtExsP//aAAwDAQACAAMAAAAQAw//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhQRBxYaHw/9oACAEBAAE/EAFDcVhWe4Nce0w1Pu5uEfPC/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"20170711002519\"\n        title=\"20170711002519\"\n        src=\"/static/6b6c56f46e07dd9cf0dc5619ef5ca9b5/066f9/20170711002519.jpg\"\n        srcset=\"/static/6b6c56f46e07dd9cf0dc5619ef5ca9b5/b9e9c/20170711002519.jpg 100w,\n/static/6b6c56f46e07dd9cf0dc5619ef5ca9b5/e07e9/20170711002519.jpg 200w,\n/static/6b6c56f46e07dd9cf0dc5619ef5ca9b5/066f9/20170711002519.jpg 400w,\n/static/6b6c56f46e07dd9cf0dc5619ef5ca9b5/b4294/20170711002519.jpg 600w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>あとは、このショートカットキーを Path が通っている場所において、Win+Rから叩けば簡単にタッチスクリーンのオンオフを制御することが出来ます。</p>\n<h2 id=\"参考\" style=\"position:relative;\"><a href=\"#%E5%8F%82%E8%80%83\" aria-label=\"参考 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h2>\n<p><a href=\"https://qwerty.work/blog/2015/03/wdkdevconbatcommand.php\">https://qwerty.work/blog/2015/03/wdkdevconbatcommand.php</a></p>","tableOfContents":"<ul>\n<li><a href=\"/2017/0711-surface/#%E3%81%82%E3%82%89%E3%81%99%E3%81%98\">あらすじ</a></li>\n<li><a href=\"/2017/0711-surface/#%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%82%E3%81%AE\">必要なもの</a></li>\n<li><a href=\"/2017/0711-surface/#%E3%83%90%E3%83%83%E3%83%81%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\">バッチファイル</a></li>\n<li>\n<p><a href=\"/2017/0711-surface/#winr%E3%81%8B%E3%82%89%E5%AE%9F%E8%A1%8C%E3%81%97%E3%81%9F%E3%81%84\">Win+Rから実行したい</a></p>\n<ul>\n<li><a href=\"/2017/0711-surface/#%E5%8F%82%E8%80%83\">参考</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"Surfaceのタッチスクリーンをオンオフするバッチファイルを作った","date":"2017/07/11 00:27","tags":["Windows"]},"id":"7bae8d91-c376-53f6-9666-4435aa9ed0a8","excerpt":"あらすじ Surface Pro 4 + 外部ディスプレイを使っていて、「外部ディスプレイに表示のみ」にした場合にタッチパネルが反応して外部ディスプレイの操作の邪魔をするなど、一時的にタッチパネルを無効化したい場合もあるかと思います。 デイバイスマネージャから「HID…"},"relatedPosts":{"edges":[{"node":{"fields":{"slug":"/2019/0512-move-window/"},"frontmatter":{"title":"【「移動」が使えないとき】Windowsでウインドウが画面外にいってしまったときの戻し方","date":"2019/05/12 09:47","tags":["Windows"]},"id":"74c057ac-6548-5c5a-ae4c-89ae3e4ce6dc"}},{"node":{"fields":{"slug":"/2017/0711-surface/"},"frontmatter":{"title":"Surfaceのタッチスクリーンをオンオフするバッチファイルを作った","date":"2017/07/11 00:27","tags":["Windows"]},"id":"7bae8d91-c376-53f6-9666-4435aa9ed0a8"}}]}},"pageContext":{"slug":"/2017/0711-surface/","tags":["Windows"]}}}