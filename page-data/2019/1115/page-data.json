{"componentChunkName":"component---src-templates-blog-post-js","path":"/2019/1115/","result":{"data":{"site":{"siteMetadata":{"title":"なばろぐ","description":"プログラミング、ピアノ作曲・演奏、雑記など"}},"markdownRemark":{"html":"<div class=\"alert info\">\nはてなブログからの移行記事\n</div>\n<h1>記事の概要</h1>\n<p>Laradock を使用して Jenkins を起動する際に、起動直後にコンテナが Exit してしまう現象と解決策</p>\n<h2>記事の環境</h2>\n<ul>\n<li>\n<p>Windows 10 Pro 1903 (Windows 10 May 2019 Update)</p>\n<ul>\n<li>Docker for Windows 2.1.0.4  </li>\n</ul>\n</li>\n<li>Laradock 8.0.0</li>\n</ul>\n<h1>Exit してしまう状況</h1>\n<p>Windows 環境で Laradock を clone し、そこから jenkins コンテナを立ち上げると、すぐにコンテナが閉じてしまう現象に陥った。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ docker-compose up -d --build jenkins\n（中略）\nSuccessfully built a96c9f074be1\nSuccessfully tagged laradock_jenkins:latest\nCreating laradock_jenkins_1 ... done</code></pre></div>\n<p>コンテナの状況を確かめる。コンテナが終了してしまっている</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ docker ps -a\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                      PORTS               NAMES\nf868ae118d24        laradock_jenkins    &quot;/bin/tini -- /usr/l…&quot;   15 seconds ago      Exited (1) 14 seconds ago                       laradock_jenkins_1</code></pre></div>\n<p>コンテナのログを確認してみる。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ docker logs laradock_jenkins_1\n: invalid option</code></pre></div>\n<p>なんだこりゃ。</p>\n<h1>解決策</h1>\n<p>原因は、Windows で Laradock を clone してきたときの改行コードの設定であり、\ngit config の <strong>core.autocrlf</strong> が <strong>true</strong> の場合、改行コードが <strong>CR+LF</strong>になり、その影響でエラーが起きているようで、<br>\n<strong>autocrlf</strong> を <strong>false</strong> にした上で再度 laradock をクローンし直す。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git config --global core.autocrlf false</code></pre></div>\n<p>詳しい原因は調べたけど突き詰められなかった。\n<strong>invalid option</strong> なので、何かしらの設定ファイルの改行コード周りなのかな、と思います。</p>\n<h2>参考</h2>\n<p><a href=\"https://github.com/laradock/laradock/issues/1861\">https://github.com/laradock/laradock/issues/1861</a></p>","frontmatter":{"title":"Laradock を使った Jenkins が起動しない","date":"2019/11/15 23:32","tags":["その他技術系"]},"id":"2dcf9122-7538-5129-89fe-abea7564f4ed","excerpt":"記事の概要 Laradock を使用して Jenkins を起動する際に、起動直後にコンテナが Exit してしまう現象と解決策 記事の環境 Windows 10 Pro 1903 (Windows 10 May 2019 Update) Docker for Windows…"},"relatedPosts":{"edges":[{"node":{"fields":{"slug":"/2019/1115/"},"frontmatter":{"title":"Laradock を使った Jenkins が起動しない","date":"2019/11/15 23:32","tags":["その他技術系"]},"id":"2dcf9122-7538-5129-89fe-abea7564f4ed"}},{"node":{"fields":{"slug":"/2015/1221/"},"frontmatter":{"title":"FaceRigとFaceRig Live2D Moduleを購入したので、SkypeのWebカメラとして使うまで","date":"2015/12/21 00:00","tags":["その他技術系"]},"id":"964b700b-4888-5a5e-97b7-ef62ded66003"}},{"node":{"fields":{"slug":"/2015/1219/"},"frontmatter":{"title":"iCloudにアップロード済の写真・動画を全てPCへダウンロードする","date":"2015/12/19 18:41","tags":["その他技術系"]},"id":"825384a8-e9e9-5ac1-8f54-9d41cec210b0"}}]}},"pageContext":{"slug":"/2019/1115/","tags":["その他技術系"]}}}