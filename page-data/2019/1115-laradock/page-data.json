{"componentChunkName":"component---src-templates-blog-post-js","path":"/2019/1115-laradock/","result":{"data":{"site":{"siteMetadata":{"title":"なばろぐ","description":"プログラミング、ピアノ作曲・演奏、雑記など"}},"markdownRemark":{"html":"<div class=\"alert info\">\nはてなブログからの移行記事\n</div>\n<h1 id=\"記事の概要\" style=\"position:relative;\"><a href=\"#%E8%A8%98%E4%BA%8B%E3%81%AE%E6%A6%82%E8%A6%81\" aria-label=\"記事の概要 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>記事の概要</h1>\n<p>Laradock を使用して Jenkins を起動する際に、起動直後にコンテナが Exit してしまう現象と解決策</p>\n<h2 id=\"記事の環境\" style=\"position:relative;\"><a href=\"#%E8%A8%98%E4%BA%8B%E3%81%AE%E7%92%B0%E5%A2%83\" aria-label=\"記事の環境 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>記事の環境</h2>\n<ul>\n<li>\n<p>Windows 10 Pro 1903 (Windows 10 May 2019 Update)</p>\n<ul>\n<li>Docker for Windows 2.1.0.4  </li>\n</ul>\n</li>\n<li>Laradock 8.0.0</li>\n</ul>\n<h1 id=\"exit-してしまう状況\" style=\"position:relative;\"><a href=\"#exit-%E3%81%97%E3%81%A6%E3%81%97%E3%81%BE%E3%81%86%E7%8A%B6%E6%B3%81\" aria-label=\"exit してしまう状況 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Exit してしまう状況</h1>\n<p>Windows 環境で Laradock を clone し、そこから jenkins コンテナを立ち上げると、すぐにコンテナが閉じてしまう現象に陥った。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ docker-compose up -d --build jenkins\n（中略）\nSuccessfully built a96c9f074be1\nSuccessfully tagged laradock_jenkins:latest\nCreating laradock_jenkins_1 ... done</code></pre></div>\n<p>コンテナの状況を確かめる。コンテナが終了してしまっている</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ docker ps -a\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                      PORTS               NAMES\nf868ae118d24        laradock_jenkins    &quot;/bin/tini -- /usr/l…&quot;   15 seconds ago      Exited (1) 14 seconds ago                       laradock_jenkins_1</code></pre></div>\n<p>コンテナのログを確認してみる。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ docker logs laradock_jenkins_1\n: invalid option</code></pre></div>\n<p>なんだこりゃ。</p>\n<h1 id=\"解決策\" style=\"position:relative;\"><a href=\"#%E8%A7%A3%E6%B1%BA%E7%AD%96\" aria-label=\"解決策 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>解決策</h1>\n<p>原因は、Windows で Laradock を clone してきたときの改行コードの設定であり、\ngit config の <strong>core.autocrlf</strong> が <strong>true</strong> の場合、改行コードが <strong>CR+LF</strong>になり、その影響でエラーが起きているようで、<br>\n<strong>autocrlf</strong> を <strong>false</strong> にした上で再度 laradock をクローンし直す。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git config --global core.autocrlf false</code></pre></div>\n<p>詳しい原因は調べたけど突き詰められなかった。\n<strong>invalid option</strong> なので、何かしらの設定ファイルの改行コード周りなのかな、と思います。</p>\n<h2 id=\"参考\" style=\"position:relative;\"><a href=\"#%E5%8F%82%E8%80%83\" aria-label=\"参考 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h2>\n<p><a href=\"https://github.com/laradock/laradock/issues/1861\">https://github.com/laradock/laradock/issues/1861</a></p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"/2019/1115-laradock/#%E8%A8%98%E4%BA%8B%E3%81%AE%E6%A6%82%E8%A6%81\">記事の概要</a></p>\n<ul>\n<li><a href=\"/2019/1115-laradock/#%E8%A8%98%E4%BA%8B%E3%81%AE%E7%92%B0%E5%A2%83\">記事の環境</a></li>\n</ul>\n</li>\n<li><a href=\"/2019/1115-laradock/#exit-%E3%81%97%E3%81%A6%E3%81%97%E3%81%BE%E3%81%86%E7%8A%B6%E6%B3%81\">Exit してしまう状況</a></li>\n<li>\n<p><a href=\"/2019/1115-laradock/#%E8%A7%A3%E6%B1%BA%E7%AD%96\">解決策</a></p>\n<ul>\n<li><a href=\"/2019/1115-laradock/#%E5%8F%82%E8%80%83\">参考</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"Laradock を使った Jenkins が起動しない","date":"2019/11/15 23:32","tags":["その他"]},"id":"01579ec1-a284-5323-9a7b-b8e4cdb604e2","excerpt":"記事の概要 Laradock を使用して Jenkins を起動する際に、起動直後にコンテナが Exit してしまう現象と解決策 記事の環境 Windows 10 Pro 1903 (Windows 10 May 2019 Update) Docker for Windows…"},"relatedPosts":{"edges":[{"node":{"fields":{"slug":"/2019/1115-laradock/"},"frontmatter":{"title":"Laradock を使った Jenkins が起動しない","date":"2019/11/15 23:32","tags":["その他"]},"id":"01579ec1-a284-5323-9a7b-b8e4cdb604e2"}},{"node":{"fields":{"slug":"/2019/0608-hatena/"},"frontmatter":{"title":"はてなブログで特定の記事をnoindexにする方法【カテゴリ分け方法/jQuery不要】","date":"2019/06/08 21:39","tags":["その他"]},"id":"6adb426b-aa92-5866-8f7f-cbdf52b29a4d"}},{"node":{"fields":{"slug":"/2016/0919-intellij-bg/"},"frontmatter":{"title":"IntelliJ ベース IDEA の背景画像を変更する方法","date":"2016/09/19 01:24","tags":["その他"]},"id":"65586540-daca-500c-a907-9d4196ec0226"}},{"node":{"fields":{"slug":"/2015/1221-facerig/"},"frontmatter":{"title":"FaceRigとFaceRig Live2D Moduleを購入したので、SkypeのWebカメラとして使うまで","date":"2015/12/21 00:00","tags":["その他"]},"id":"6a781727-674a-591c-900e-3739d240df25"}},{"node":{"fields":{"slug":"/2015/1219-icloud/"},"frontmatter":{"title":"iCloudにアップロード済の写真・動画を全てPCへダウンロードする","date":"2015/12/19 18:41","tags":["その他"]},"id":"eb3b8335-8f21-53cb-b016-3e9d6f1cc9b8"}}]}},"pageContext":{"slug":"/2019/1115-laradock/","tags":["その他"]}}}