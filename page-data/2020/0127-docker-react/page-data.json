{"componentChunkName":"component---src-templates-blog-post-js","path":"/2020/0127-docker-react/","result":{"data":{"site":{"siteMetadata":{"title":"なばろぐ","description":"プログラミング、ピアノ作曲・演奏、雑記など"}},"markdownRemark":{"html":"<div class=\"alert info\">\nはてなブログからの移行記事\n</div>\n<h1 id=\"はじめに\" style=\"position:relative;\"><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\" aria-label=\"はじめに permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>はじめに</h1>\n<p>React の開発環境構築として、実行環境を node の Docker コンテナを使用することにしたので、構築手順をまとめます。<br>\n今回覚えながら docker-compose を使用したので、理解の間違いなどがあれば指摘いただけると嬉しいです。</p>\n<h2 id=\"環境\" style=\"position:relative;\"><a href=\"#%E7%92%B0%E5%A2%83\" aria-label=\"環境 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>環境</h2>\n<ul>\n<li>Windows 10 Pro (2004)</li>\n<li>Docker for Windows 2.2.0.0</li>\n</ul>\n<h2 id=\"完成イメージ\" style=\"position:relative;\"><a href=\"#%E5%AE%8C%E6%88%90%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8\" aria-label=\"完成イメージ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>完成イメージ</h2>\n<figure class=\"figure-image figure-image-fotolife\" title=\"完成形イメージ\">[f:id:naba0123:20200126224944j:w500]<figcaption>ホストOSとコンテナでは、ソースコードと、3000番ポートを共有している</figcaption></figure>\n<h1 id=\"docker-composeyml-の作成\" style=\"position:relative;\"><a href=\"#docker-composeyml-%E3%81%AE%E4%BD%9C%E6%88%90\" aria-label=\"docker composeyml の作成 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>docker-compose.yml の作成</h1>\n<p>作業ディレクトリを作成したら、まず ** docker-compose.yml ** を作成します。<br>\n** docker-compose.yml ** を使用することで、通常 <code class=\"language-text\">docker</code> コマンドに色々引数やらつけなくちゃいけないものを、一元管理することができます。<br>\nまた、実行する際も <code class=\"language-text\">docker-compose</code> コマンドを使用します。</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3\"</span>\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">node</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> node<span class=\"token punctuation\">:</span>12.14.1\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> ./<span class=\"token punctuation\">:</span>/usr/src/app\n    <span class=\"token key atrule\">working_dir</span><span class=\"token punctuation\">:</span> /usr/src/app\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"3000:3000\"</span>\n    <span class=\"token key atrule\">tty</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre></div>\n<ul>\n<li><strong>version</strong> : docker-compose で使用するバージョンになります。<br>\nドキュメント：<a href=\"https://docs.docker.com/compose/compose-file/\">https://docs.docker.com/compose/compose-file/</a></li>\n<li>\n<p><strong>services</strong> : <strong>version</strong> と同じインデントに記載します。<br>\n※参考記事ではインデントを深くしており、そのまま真似てしまうとエラーになってしまいました。（気付くまで時間がかかった）</p>\n<ul>\n<li><strong>node</strong> : <strong>services</strong> で定義するサービス名です。何でも良いですが、<code class=\"language-text\">docker-compose up サービス名</code> のように使用するので、分かりやすい名前にしておきます。<br>\n今回は、使用するコンテナのイメージが node なので、定義する名前も node にしておきます。</li>\n<li><strong>image</strong> : <strong>node</strong> サービスで使用するイメージ元です。<br>\n今回のように直接 image を指定することもあれば、 <strong>build</strong> セクションを記載して、<code class=\"language-text\">docker-compose build</code> でイメージをビルドしてから起動する方法もあります。</li>\n<li><strong>volumes</strong> : ホスト OS と共有するディレクトリになります。<br>\nコロンより前がホスト側のパス（ <code class=\"language-text\">docker-compose</code> を実行するディレクトリからの相対パスとして、自身のディレクトリを指定）、後がコンテナ内のパスです。</li>\n<li><strong>working_dir</strong> : コンテナ内でコマンドを実行する際の、起点となるディレクトリです。<br>\n今回は、後ほど <code class=\"language-text\">docker-compose exec node /bin/bash</code> でコマンド内で作業をするので、そのログイン時のはじめのディレクトリを指定しておきます。</li>\n<li><strong>ports</strong> : ホストとコンテナでポートフォワードを行うポートを指定します。<br>\nコロンより前がホスト側、後がコンテナ側で、今回はコンテナ内で 3000 ポートで動いているアプリケーションに、ホストの 3000 を割り当てています。<br>\nこれにより、React アプリケーションの起動後に <a href=\"http://localhost:3000/\">http://localhost:3000/</a> でアクセスができるわけです。</li>\n<li><strong>tty:true</strong> : これを書いておくことで、<code class=\"language-text\">docker-compose up</code> 後に実行するコマンドがなく即コンテナが終了することなく、待機状態となります。<br>\nドキュメント：<a href=\"https://docs.docker.com/compose/compose-file/#domainname-hostname-ipc-mac_address-privileged-read_only-shm_size-stdin_open-tty-user-working_dir\">https://docs.docker.com/compose/compose-file/#domainname-hostname-ipc-mac<em>address-privileged-read</em>only-shm<em>size-stdin</em>open-tty-user-working_dir</a></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"コンテナ起動\" style=\"position:relative;\"><a href=\"#%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E8%B5%B7%E5%8B%95\" aria-label=\"コンテナ起動 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>コンテナ起動</h1>\n<p>docker-compose.yml を作成したら、コンテナを起動します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ docker-compose up\nCreating network &quot;app_default&quot; with the default driver\nPulling node (node:12.14.1)...\n12.14.1: Pulling from library/node\n146bd6a88618: Pull complete\n9935d0c62ace: Pull complete\ndb0efb86e806: Pull complete\ne705a4c4fd31: Pull complete\nc877b722db6f: Pull complete\n645c20ec8214: Pull complete\n72851fd0a9e4: Pull complete\nc97d6cf2691b: Pull complete\n7df0baa2324d: Pull complete\nDigest: sha256:0a68eb463c4ab4db0833c786cc484ea2edfd50e73e606380e30b806aeb9eee5a\nStatus: Downloaded newer image for node:12.14.1\nCreating app_node_1 ... done\nAttaching to app_node_1\nnode_1  | Welcome to Node.js v12.14.1.\nnode_1  | Type &quot;.help&quot; for more information.</code></pre></div>\n<p>初回は、** node:12.14.1 ** イメージをダウンロードするので pull したりするログが流れますが、最後に node が起動してるっぽいログが出てきたら OK です。</p>\n<p>今回実行した <code class=\"language-text\">docker-compose up</code> は、docker-compose.yml に記載されているサービスを全部起動するという処理になっています。<br>\n今回 services には node しか書いていませんので <code class=\"language-text\">docker-compose up node</code> と同義となります。</p>\n<p>ただし、現在フォアグラウンドで実行中、かつ何も動作をしない状態なので、これ以上動けず、ログを吐き出し続けます。<br>\n一度「Ctrl+C」でコンテナを終了（フォアグラウンドで実行しているものを停止させるので、この場合はコンテナも停止します）させるか、別のターミナル（ PowerShell など）を立ち上げて、次の作業を行ってください。</p>\n<p>バックグラウンドでの実行（<code class=\"language-text\">docker-compose up -d</code>）後、またはフォアグラウンドで実行中に別のターミナル（ PowerShell ）でコンテナが起動していることを確認します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$  docker-compose ps\n   Name               Command            State           Ports\n-----------------------------------------------------------------------\napp_node_1   docker-entrypoint.sh node   Up      0.0.0.0:3000-&gt;3000/tcp</code></pre></div>\n<h1 id=\"コンテナ内で-react-アプリを作成する\" style=\"position:relative;\"><a href=\"#%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%86%85%E3%81%A7-react-%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\" aria-label=\"コンテナ内で react アプリを作成する permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>コンテナ内で React アプリを作成する</h1>\n<p>実行中のコンテナに入るには、<code class=\"language-text\">docker-compose exec</code> を使用します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ docker-compose exec node /bin/bash\nroot@cf0b2b9f6a64:/usr/src/app#</code></pre></div>\n<p>無事にコンテナ内に入り、はじめの作業ディレクトリが、先程 docker-compose.yml で指定した ** /usr/src/app ** になっていることがわかります。</p>\n<p>次に、react アプリを作成します。<br>\nnode のイメージを使用しているので、node はもちろん入っています。<br>\n** react-sample ** という名前で新規の React アプリを作成します。<br>\ncreate-react-app は結構時間がかかります（私の環境では 20 分ぐらい）。のんびり待ちましょう。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">root@cf0b2b9f6a64:/usr/src/app# node --version\nv12.14.1\nroot@cf0b2b9f6a64:/usr/src/app# npm --version\n6.13.4\nroot@cf0b2b9f6a64:/usr/src/app# yarn --version\n1.21.1\n\nroot@cf0b2b9f6a64:/usr/src/app# npm install -g create-react-app\n/usr/local/bin/create-react-app -&gt; /usr/local/lib/node_modules/create-react-app/index.js\n+ create-react-app@3.3.0\nadded 91 packages from 45 contributors in 6.867s\n\nroot@cf0b2b9f6a64:/usr/src/app# create-react-app react-sample\n～長い～\n※最後に Success とか出てくる</code></pre></div>\n<h1 id=\"react-アプリの実行\" style=\"position:relative;\"><a href=\"#react-%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E5%AE%9F%E8%A1%8C\" aria-label=\"react アプリの実行 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React アプリの実行</h1>\n<p>React アプリの実行は、<code class=\"language-text\">yarn</code> コマンドを使用します。<br>\n<code class=\"language-text\">yarn</code> は <code class=\"language-text\">npm</code> については、検索するといろんな記事が出てきます。\n<a href=\"https://www.d-wood.com/blog/2017/05/25_8979.html\">https://www.d-wood.com/blog/2017/05/25_8979.html</a></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ cd react-sample\n$ pwd\n/usr/src/app/react-sample\n\n$ yarn start\n※以下は出力（出力に$とか入ってるので念の為）\nyarn run v1.21.1\n$ react-scripts start\nCompiled successfully!\n\nYou can now view react-sample in the browser.\n\n  Local:            http://localhost:3000/\n  On Your Network:  http://172.22.0.2:3000/\n\nNote that the development build is not optimized.\nTo create a production build, use yarn build.</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAAB80lEQVQ4y5WSS08TURiGZ+Ulxn8gGKGX6XRK7xemrUGxqWxITDQI5dIygMGdMUatIfEH6MLEP6Ds3Lgw8RfgwkRjsFRjY4wiRgU0kuCNKA9nDqWWOigsnnzvfHnznu+bc5Rzkw+586DC3Udz3C8tcG96nqnKJ3puvUQ5X2JvcYZdl0r2XJ5ht2BPscz+iWfsu1JGefPuA/z8yq/vy6yKyu8VVpY/8/r9Ik9ml6gs/ODFvD3PP35jevYLj18tMlWe4+nbJZSegTP0DY5wut+U9A6YnOzNk+svMFwYwTTHNjNcRepRCsKTz5sMDa77lSZngOYWjeZW7zotXg626lI3CX3gkPZPLE89iuo30HxRtLaYoL5uaIE/jscXETXxp1cjusmvuHwJVG8Ytx5BreIW37JqITwiLJ47S3LsIv7ObpxOHVUMsOFpxDawFuwJEu7O0Xn1Jtlrt0mNF9EiaXmQXZhtYP3JVmCw6xRHJ26QvT6JMXoBT9CQ/kavbWDNIKpLTOEUgS6hwyeGiPaNo6ezOBy67Lm3CLWd0NJtIUPiDyfxBeL4xE+3tNULRJLyEv47YX1gzDhCrL2DROoYcUF7x3ES6YzsG4cz6OKQHa1srSvRwmhGBm+6CzWUwqkGcKjBna+sboNtrfzXW6xegLvhIrZ6h2sRuwGdlXyMdAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"20200127000835\"\n        title=\"20200127000835\"\n        src=\"/static/053678aaf7a697fc9664d8f200a81455/e17e5/20200127000835.png\"\n        srcset=\"/static/053678aaf7a697fc9664d8f200a81455/7e516/20200127000835.png 100w,\n/static/053678aaf7a697fc9664d8f200a81455/772e8/20200127000835.png 200w,\n/static/053678aaf7a697fc9664d8f200a81455/e17e5/20200127000835.png 400w,\n/static/053678aaf7a697fc9664d8f200a81455/0a47e/20200127000835.png 600w,\n/static/053678aaf7a697fc9664d8f200a81455/e51a6/20200127000835.png 783w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>これで React アプリが起動しました。<br>\nホスト PC とは 3000 ポートがすでにフォワーディングされていますので、ブラウザで ** <a href=\"http://localhost:3000/\">http://localhost:3000/</a> ** にアクセスすると、 React の Welcome ページが出てくるはずです。お疲れさまでした！</p>\n<p><code class=\"language-text\">yarn start</code> についてですが、今回のようにいちいちコンテナに入って打つよりも、参考記事にあった<br>\n「docker-compose.yml 内に起動時のコマンドとして <code class=\"language-text\">cd react-sample &amp;&amp; yarn start</code> を指定する」<br>\nという方法もあるようですが、私の環境では 1 回目は成功するのですが、一度落として再度 ** docker-compose up **しようとすると、</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Error: ENOENT: no such file or directory, uv_cwd</code></pre></div>\n<p>のようなエラーが出てきてしまい実行できない、という状況になってしまいました。<br>\n（調べてみるとどうやら node.js のエラーらしいです）<br>\nちなみにこれは Docker for Windows を再起動することで一応直るのですが、毎回立ち上げ直すのが手間で、「コンテナ内から実行したらエラーが起きない」ということに気づいたので、今回の形となりました。</p>\n<h1 id=\"環境構築直後のディレクトリ構造\" style=\"position:relative;\"><a href=\"#%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89%E7%9B%B4%E5%BE%8C%E3%81%AE%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E6%A7%8B%E9%80%A0\" aria-label=\"環境構築直後のディレクトリ構造 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>環境構築直後のディレクトリ構造</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAAB50lEQVQ4y5VTa2/iMBDMv7i2gpLE7zgPkxcQEdrqKvH/f9HcOJQetOpJ92G0thPP7syuEx06KKMhlITSCrkUjBJl5eGrAmXtoa1CmqcwzsASyihowhUOkveeN8+8ly9I5tMBIXic5okklsQpvBGYhxaHQ4/jceS5QZqtiPVNvKwzxixfw1oJITdIjJOYjwPOv2fML3vMpxGh9XCOpNZh8haqyKF1BmNzVpgv8eu6LKiq1EgKb5hhA1vYRc7j0wMysYHzEp7JJmsx8J+wVaiqaEdGufcwJqcNGS1QSDxlTlOL8/kVL6xunnt0XUlyAUvShv7N3qHfaux2JA7yQsKqPgk/1j5WGH0bxgbv70fsdwHDULOa4pOwsxpTYTAEzW8abasWqVeiK+I+ciVl7bBJV6jZUc3LD4+/aG66ZGuCw0jyI5vz9tpiHByq2mK7tUx6g2CXJI4+LpKFzNCzq85prNZP9OneeOeiTPGxF8vZV8QKC08PG46MZEV9H9B2AblIOVv3Hl3kfW/GVyyEcWyEXLPCBtu2ofz1HeGtT/+CvnZZcpClFRj3nL9Qf5P8v0gimRYCTV2hKONTEkuFP8lSOv0R8XsyjR59V9O/ml2OxtN0dqvgyMSu3SKexWfoK32JnISIsvob/wARo36Fa5fd4AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"20200127001704\"\n        title=\"20200127001704\"\n        src=\"/static/19b60cd8a899ff9bc7ebd6c7035cbb22/e17e5/20200127001704.png\"\n        srcset=\"/static/19b60cd8a899ff9bc7ebd6c7035cbb22/7e516/20200127001704.png 100w,\n/static/19b60cd8a899ff9bc7ebd6c7035cbb22/772e8/20200127001704.png 200w,\n/static/19b60cd8a899ff9bc7ebd6c7035cbb22/e17e5/20200127001704.png 400w,\n/static/19b60cd8a899ff9bc7ebd6c7035cbb22/0a47e/20200127001704.png 600w,\n/static/19b60cd8a899ff9bc7ebd6c7035cbb22/5a190/20200127001704.png 800w,\n/static/19b60cd8a899ff9bc7ebd6c7035cbb22/e4374/20200127001704.png 927w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h1 id=\"参考\" style=\"position:relative;\"><a href=\"#%E5%8F%82%E8%80%83\" aria-label=\"参考 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h1>\n<ul>\n<li><a href=\"https://blog.web.nifty.com/engineer/2714\">https://blog.web.nifty.com/engineer/2714</a></li>\n<li><a href=\"https://qiita.com/yuta-ushijima/items/d3d98177e1b28f736f04\">https://qiita.com/yuta-ushijima/items/d3d98177e1b28f736f04</a></li>\n<li><a href=\"https://unskilled.site/%E4%BD%BF%E3%81%84%E6%96%B9%E5%9F%BA%E6%9C%AC%E7%89%88dockercompose%E3%81%A7%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E7%AB%8B%E3%81%A1%E4%B8%8A%E3%81%92%E3%83%BB%E9%80%A3%E6%90%BA%E3%82%92%E6%A5%BD/\">https://unskilled.site/%E4%BD%BF%E3%81%84%E6%96%B9%E5%9F%BA%E6%9C%AC%E7%89%88dockercompose%E3%81%A7%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E7%AB%8B%E3%81%A1%E4%B8%8A%E3%81%92%E3%83%BB%E9%80%A3%E6%90%BA%E3%82%92%E6%A5%BD/</a></li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"/2020/0127-docker-react/#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\">はじめに</a></p>\n<ul>\n<li><a href=\"/2020/0127-docker-react/#%E7%92%B0%E5%A2%83\">環境</a></li>\n<li><a href=\"/2020/0127-docker-react/#%E5%AE%8C%E6%88%90%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8\">完成イメージ</a></li>\n</ul>\n</li>\n<li><a href=\"/2020/0127-docker-react/#docker-composeyml-%E3%81%AE%E4%BD%9C%E6%88%90\">docker-compose.yml の作成</a></li>\n<li><a href=\"/2020/0127-docker-react/#%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E8%B5%B7%E5%8B%95\">コンテナ起動</a></li>\n<li><a href=\"/2020/0127-docker-react/#%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%86%85%E3%81%A7-react-%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\">コンテナ内で React アプリを作成する</a></li>\n<li><a href=\"/2020/0127-docker-react/#react-%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E5%AE%9F%E8%A1%8C\">React アプリの実行</a></li>\n<li><a href=\"/2020/0127-docker-react/#%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89%E7%9B%B4%E5%BE%8C%E3%81%AE%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E6%A7%8B%E9%80%A0\">環境構築直後のディレクトリ構造</a></li>\n<li><a href=\"/2020/0127-docker-react/#%E5%8F%82%E8%80%83\">参考</a></li>\n</ul>","frontmatter":{"title":"Docker + React 開発環境を整える","date":"2020/01/27 00:22","tags":["Docker","React"]},"id":"11087176-384d-5fb9-9e86-ecc80f1a71ba","excerpt":"はじめに React の開発環境構築として、実行環境を node の Docker コンテナを使用することにしたので、構築手順をまとめます。 今回覚えながら docker-compose を使用したので、理解の間違いなどがあれば指摘いただけると嬉しいです。 環境 Windows…"},"relatedPosts":{"edges":[{"node":{"fields":{"slug":"/2020/0415-docker-jenkins-gatsby/"},"frontmatter":{"title":"Docker + Jenkins で GatsbyJs ビルド環境作成","date":"2020/04/15 23:17","tags":["Docker","Jenkins","GatsbyJS"]},"id":"7126bf62-533a-5995-a1d1-7f1e8791cd55"}},{"node":{"fields":{"slug":"/2020/0127-docker-react/"},"frontmatter":{"title":"Docker + React 開発環境を整える","date":"2020/01/27 00:22","tags":["Docker","React"]},"id":"11087176-384d-5fb9-9e86-ecc80f1a71ba"}},{"node":{"fields":{"slug":"/2020/0127-docker-react/"},"frontmatter":{"title":"Docker + React 開発環境を整える","date":"2020/01/27 00:22","tags":["Docker","React"]},"id":"11087176-384d-5fb9-9e86-ecc80f1a71ba"}},{"node":{"fields":{"slug":"/2019/1109-selenium/"},"frontmatter":{"title":"Python (Client) + Selenium Server (Docker) で Web スクレイピング環境構築","date":"2019/11/09 12:06","tags":["Python","Selenium","Docker"]},"id":"f13dc642-5d51-5a3b-9c39-af67352ece87"}}]}},"pageContext":{"slug":"/2020/0127-docker-react/","tags":["Docker","React"]}},"staticQueryHashes":["1271460761","1850874671","2841359383","3341129462"]}